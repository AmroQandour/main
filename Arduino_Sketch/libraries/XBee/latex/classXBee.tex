\hypertarget{classXBee}{\section{\-X\-Bee \-Class \-Reference}
\label{classXBee}\index{\-X\-Bee@{\-X\-Bee}}
}


{\ttfamily \#include $<$\-X\-Bee.\-h$>$}

\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classXBee_a7d788232f44e8b3c10dc686a0299fcc6}{read\-Packet} ()
\item 
bool \hyperlink{classXBee_ae1c9f3b53df50564ab9aca2716792b44}{read\-Packet} (int timeout)
\item 
void \hyperlink{classXBee_a594e2bb2ccb7b3fe7a2278b9324b4083}{read\-Packet\-Until\-Available} ()
\item 
void \hyperlink{classXBee_a847a36fa06c9567496a7ec140cb72586}{begin} (long baud)
\item 
\hypertarget{classXBee_ac88079aa744d36b26a0c6a0add939898}{void {\bfseries get\-Response} (\hyperlink{classXBeeResponse}{\-X\-Bee\-Response} \&response)}\label{classXBee_ac88079aa744d36b26a0c6a0add939898}

\item 
\hyperlink{classXBeeResponse}{\-X\-Bee\-Response} \& \hyperlink{classXBee_a18250def80e8b643aa1ccc15a98937f3}{get\-Response} ()
\item 
void \hyperlink{classXBee_a802387f468be8622941d16739ac848f2}{send} (\hyperlink{classXBeeRequest}{\-X\-Bee\-Request} \&request)
\item 
uint8\-\_\-t \hyperlink{classXBee_a25bd226e41517e8a66a13e531d31438d}{get\-Next\-Frame\-Id} ()
\item 
void \hyperlink{classXBee_a8522ebba19c2751677131b7bb43da6c3}{set\-Serial} (\-Hardware\-Serial \&serial)
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Primary interface for communicating with an \hyperlink{classXBee}{\-X\-Bee} \-Radio. \-This class provides methods for sending and receiving packets with an \hyperlink{classXBee}{\-X\-Bee} radio via the serial port. \-The \hyperlink{classXBee}{\-X\-Bee} radio must be configured in \-A\-P\-I (packet) mode (\-A\-P=2) in order to use this software. 

\-Since this code is designed to run on a microcontroller, with only one thread, you are responsible for reading the data off the serial buffer in a timely manner. \-This involves a call to a variant of read\-Packet(...). \-If your serial port is receiving data faster than you are reading, you can expect to lose packets. \-Arduino only has a 128 byte serial buffer so it can easily overflow if two or more packets arrive without a call to read\-Packet(...) 

\-In order to conserve resources, this class only supports storing one response packet in memory at a time. \-This means that you must fully consume the packet prior to calling read\-Packet(...), because calling read\-Packet(...) overwrites the previous response. 

\-This class creates an array of size \-M\-A\-X\-\_\-\-F\-R\-A\-M\-E\-\_\-\-D\-A\-T\-A\-\_\-\-S\-I\-Z\-E for storing the response packet. \-You may want to adjust this value to conserve memory.

\begin{DoxyAuthor}{\-Author}
\-Andrew \-Rapp 
\end{DoxyAuthor}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{classXBee_a847a36fa06c9567496a7ec140cb72586}{\index{\-X\-Bee@{\-X\-Bee}!begin@{begin}}
\index{begin@{begin}!XBee@{\-X\-Bee}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-X\-Bee\-::begin} (
\begin{DoxyParamCaption}
\item[{long}]{baud}
\end{DoxyParamCaption}
)}}\label{classXBee_a847a36fa06c9567496a7ec140cb72586}
\-Starts the serial connection at the supplied baud rate \hypertarget{classXBee_a25bd226e41517e8a66a13e531d31438d}{\index{\-X\-Bee@{\-X\-Bee}!get\-Next\-Frame\-Id@{get\-Next\-Frame\-Id}}
\index{get\-Next\-Frame\-Id@{get\-Next\-Frame\-Id}!XBee@{\-X\-Bee}}
\subsubsection[{get\-Next\-Frame\-Id}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-X\-Bee\-::get\-Next\-Frame\-Id} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classXBee_a25bd226e41517e8a66a13e531d31438d}
\-Returns a sequential frame id between 1 and 255 \hypertarget{classXBee_a18250def80e8b643aa1ccc15a98937f3}{\index{\-X\-Bee@{\-X\-Bee}!get\-Response@{get\-Response}}
\index{get\-Response@{get\-Response}!XBee@{\-X\-Bee}}
\subsubsection[{get\-Response}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-X\-Bee\-Response} \& \-X\-Bee\-::get\-Response (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classXBee_a18250def80e8b643aa1ccc15a98937f3}
\-Returns a reference to the current response \-Note\-: once read\-Packet is called again this response will be overwritten! \hypertarget{classXBee_a7d788232f44e8b3c10dc686a0299fcc6}{\index{\-X\-Bee@{\-X\-Bee}!read\-Packet@{read\-Packet}}
\index{read\-Packet@{read\-Packet}!XBee@{\-X\-Bee}}
\subsubsection[{read\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-X\-Bee\-::read\-Packet} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classXBee_a7d788232f44e8b3c10dc686a0299fcc6}
\-Reads all available serial bytes until a packet is parsed, an error occurs, or the buffer is empty. \-You may call {\itshape xbee\/}.\hyperlink{classXBee_a18250def80e8b643aa1ccc15a98937f3}{get\-Response()}.is\-Available() after calling this method to determine if a packet is ready, or {\itshape xbee\/}.\hyperlink{classXBee_a18250def80e8b643aa1ccc15a98937f3}{get\-Response()}.is\-Error() to determine if a error occurred. 

\-This method should always return quickly since it does not wait for serial data to arrive. \-You will want to use this method if you are doing other timely stuff in your loop, where a delay would cause problems. \-N\-O\-T\-E\-: calling this method resets the current response, so make sure you first consume the current response \hypertarget{classXBee_ae1c9f3b53df50564ab9aca2716792b44}{\index{\-X\-Bee@{\-X\-Bee}!read\-Packet@{read\-Packet}}
\index{read\-Packet@{read\-Packet}!XBee@{\-X\-Bee}}
\subsubsection[{read\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-X\-Bee\-::read\-Packet} (
\begin{DoxyParamCaption}
\item[{int}]{timeout}
\end{DoxyParamCaption}
)}}\label{classXBee_ae1c9f3b53df50564ab9aca2716792b44}
\-Waits a maximum of {\itshape timeout\/} milliseconds for a response packet before timing out; returns true if packet is read. \-Returns false if timeout or error occurs. \hypertarget{classXBee_a594e2bb2ccb7b3fe7a2278b9324b4083}{\index{\-X\-Bee@{\-X\-Bee}!read\-Packet\-Until\-Available@{read\-Packet\-Until\-Available}}
\index{read\-Packet\-Until\-Available@{read\-Packet\-Until\-Available}!XBee@{\-X\-Bee}}
\subsubsection[{read\-Packet\-Until\-Available}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-X\-Bee\-::read\-Packet\-Until\-Available} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classXBee_a594e2bb2ccb7b3fe7a2278b9324b4083}
\-Reads until a packet is received or an error occurs. \-Caution\-: use this carefully since if you don't get a response, your \-Arduino code will hang on this call forever!! often it's better to use a timeout\-: \hyperlink{classXBee_ae1c9f3b53df50564ab9aca2716792b44}{read\-Packet(int)} \hypertarget{classXBee_a802387f468be8622941d16739ac848f2}{\index{\-X\-Bee@{\-X\-Bee}!send@{send}}
\index{send@{send}!XBee@{\-X\-Bee}}
\subsubsection[{send}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-X\-Bee\-::send} (
\begin{DoxyParamCaption}
\item[{{\bf \-X\-Bee\-Request} \&}]{request}
\end{DoxyParamCaption}
)}}\label{classXBee_a802387f468be8622941d16739ac848f2}
\-Sends a \hyperlink{classXBeeRequest}{\-X\-Bee\-Request} (\-T\-X packet) out the serial port \hypertarget{classXBee_a8522ebba19c2751677131b7bb43da6c3}{\index{\-X\-Bee@{\-X\-Bee}!set\-Serial@{set\-Serial}}
\index{set\-Serial@{set\-Serial}!XBee@{\-X\-Bee}}
\subsubsection[{set\-Serial}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-X\-Bee\-::set\-Serial} (
\begin{DoxyParamCaption}
\item[{\-Hardware\-Serial \&}]{serial}
\end{DoxyParamCaption}
)}}\label{classXBee_a8522ebba19c2751677131b7bb43da6c3}
\-Specify the serial port. \-Only relevant for \-Arduinos that support multiple serial ports (e.\-g. \-Mega) 

\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\-X\-Bee.\-h\item 
\-X\-Bee.\-cpp\end{DoxyCompactItemize}
